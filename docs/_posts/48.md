## 描述

> 写一个函数，求两个整数之和，要求在函数体内不得使用+、-、\*、/四则运算符号

## Tag

[进制转化](/_posts/sort#进制转化)

## 思路

<details>
<summary>查看解析</summary>

像这种限制了很多操作符的问题，第一时间要想到是进制问题

像 3(11)和 5(101)相加，我们自己做数学推算的话就知道首先是 1+1，然后这里有个进位，那么放在程序里这个逻辑应该怎么描述呢？方法比较巧妙

首先我们取 3 和 5 的异或，是 110，然后取 3 和 5 的与，是 1，1 表示 3 和 5 都有这个值，这里就对应了之前描述的进位情况，我们让与值左移 1 位表示进位，然后再和 35 的异或值相加，这里的相加不是直接用操作符相加，而是继续相加函数的这个过程，最终直至异或为 0（表示两个值相同）或者与为 0(表示两个值异或的值就是最终的值，也没有需要进位的情况)，这个方法的时间复杂度为 O(1)，因为我们最多只需要操作二进制数字长度次即可（比如 110 最多需要 3 次）

还有一种方法，是利用负数的二进制定义，一个数字的按位非等于其数值+1 的负值，比如~3 为-4，这就实现了++的操作，即-~num = num+1,--也简单，~-num = num-1,然后这样用循环将一个数字加到另外一个数字上，不过时间复杂度有点高，为 O(n)

</details>

## 解法

<details>
<summary>查看解析</summary>

> 方法 1

```js
function Add(num1, num2) {
	let sum = num1 ^ num2
	let num = num1 & num2
	if (num === 0) return sum
	return sum === 0 ? num << 1 : Add(sum, num << 1)
}
```

> 方法 2

```js
function Add(num1, num2) {
	if (num1 === 0) return num2
	if (num2 === 0) return num1
	if (num1 > 0) {
		while ((num1 = ~-num1)) {
			num2 = -~num2
		}
		return -~num2
	} else {
		while ((num1 = -~num1)) {
			num2 = ~-num2
		}
		return ~-num2
	}
}
```

</details>
